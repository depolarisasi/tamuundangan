var hideInfoTimeout,openModal=function(e){closeModal();var t=$("#modal");""!=e&&"none"==t.css("display")&&(t.css("display","flex"),$("body").css("overflow","hidden"),t.append(e))},closeModal=function(){var e=$("#modal");"flex"==e.css("display")&&e.css("display","none"),$("body").css("overflow","auto"),e.html("")},hideAlert=function(){var e=$("#alert");e.removeClass(),e.addClass("alert hide")},showAlert=function(e,t,i=3e3){if(""!=t){var a=$("#alert");a.removeClass(),a.addClass("alert show "+t),a.find(".alert-text").text(e),null!=i&&setTimeout(hideAlert,i)}},showLoader=function(){$(".loader-outer").hasClass("active")&&$(".loader-outer").removeClass("active"),$(".loader-outer").addClass("active")},hideLoader=function(){$(".loader-outer").hasClass("active")&&$(".loader-outer").removeClass("active")},postData=function(e,t,i=null,a=null){e&&$.ajax({url:e.url?e.url:"",type:"post",dataType:"json",data:e,cache:!1,processData:!1,contentType:!1,beforeSend:function(){"function"==typeof a&&a(),e.isShowLoader&&!0===e.isShowLoader&&showLoader()},success:function(a){e.isShowLoader&&!0===e.isShowLoader&&hideLoader(),!1===a.error&&("function"==typeof t&&t(a),void 0!==a.message&&a.message&&showAlert(a.message,"success")),!0===a.error&&("function"==typeof i&&i(a),void 0!==a.message&&a.message&&showAlert(a.message,"error"))},error:function(e){var t;try{t=e.responseText?JSON.parse(e.responseText):""}catch(a){}"function"==typeof i&&i(t)},xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){e.lengthComputable&&(e.loaded,e.total)},!1),e.addEventListener("progress",function(e){e.lengthComputable&&(e.loaded,e.total)},!1),e}})},wa_chat_toggle=function(){$(this).parent().hasClass("show")?$(this).parent().removeClass("show"):$(this).parent().addClass("show")},wa_chat_trigger=function(){$("#wa-chat-send-button").trigger("click")},copyToClipboard=function(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).then(()=>{showAlert("Berhasil di salin ke papan klip","success")});var t=document.createElement("textarea");return document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),showAlert("Berhasil di salin ke papan klip","success")},copy_text=function(e){e.preventDefault();var t=$(this).attr("data-copy");if(t&&""!=t)return copyToClipboard(t)},getOffset=function(e){var t=0,i=0,a=e;do isNaN(e.offsetLeft)||(t+=e.offsetLeft,i+=e.offsetTop,a=e);while(e=e.offsetParent);return{left:t,top:i,parent:a}},generate_tooltip=function(){var e=this,t=e.getAttribute("title"),i=document.createElement("div");if(i.id="tooltip",!t||""==t)return!1;e.removeAttribute("title"),i.style.opacity=0,i.innerHTML=t,document.body.appendChild(i);var a=function(){window.innerWidth<1.5*i.offsetWidth?i.style.maxWidth=window.innerWidth/2:i.style.maxWidth=340;var t=getOffset(e).left+e.offsetWidth/2-i.offsetWidth/2,a=getOffset(e).top-i.offsetHeight-10;["background","active","shown"].some(t=>getOffset(e).parent.classList.contains(t))&&(a=getOffset(e).top-i.offsetHeight-10-12*getOffset(e).parent.offsetHeight/100),t<0?(t=getOffset(e).left+e.offsetWidth/2-20,i.classList.add("left")):i.classList.remove("left"),t+i.offsetWidth>window.innerWidth?(t=getOffset(e).left-i.offsetWidth+e.offsetWidth/2+20,i.classList.add("right"),t<0?(t=10,i.classList.add("left"),i.classList.remove("right")):i.classList.remove("left")):i.classList.remove("right"),a<0?(a=getOffset(e).top+e.offsetHeight+15,i.classList.add("top")):i.classList.remove("top"),i.style.left=t+"px",i.style.top=a+"px",i.style.opacity=1};a(),window.addEventListener("resize",a);var n=function(){i.style.opacity=0,document.querySelector("#tooltip")&&document.body.removeChild(document.querySelector("#tooltip")),e.setAttribute("title",t)};e.addEventListener("mouseleave",n),i.addEventListener("click",n)},generate_chart=function(e,t,i,a){if(e)return new Chart(e,{type:t,data:i,options:a})},generate_chart_data=function(e,t,i){return{datasets:[{data:e,backgroundColor:t.background,hoverBackgroundColor:t.hoverbackground,hoverBorderColor:t.hoverBorder}],labels:i}},chart_options={tooltips:{enabled:!1},legend:{display:!1},cutoutPercentage:65},init_selectize=function(e,t){if(e){var i=$(e).selectize(t);if(i.length)return $(".selectize-input input").attr("readonly","readonly"),$(i)[0].selectize}},selected_selectize=function(e,t=[]){if(t&&""!=t)return e.setValue(t,1)},selectize_options=function(e){if(e)return{maxItems:e.maxItems?e.maxItems:null,valueField:e.valueField?e.valueField:"",labelField:e.labelField?e.labelField:"",searchField:e.searchField?e.searchField:[],options:e.options?e.options:[],create:!!e.create&&e.create,render:e.render?e.render:{}}},whatsapp_template_selection_options=function(e){if(e&&""!=e)return selectize_options({maxItems:1,valueField:"id",labelField:"title",searchField:["body","title"],options:e||[],render:{item:function(e,t){return"<div>"+(e.title?"<p>"+t(e.title)+"</p>":"")+"</div>"},option:function(e,t){return'<div class="item"><p style="font-size: 14px;"><strong>'+t(e.title||e.body)+"</strong></p>"+(e.body?'<p class="copied-field" style="display: none;">'+t(e.body)+"</p>":"")+"</div>"}}})},whatsapp_template_selection=function(e,t=[],i=[]){var a=whatsapp_template_selection_options(t);if(e&&""!=a){var n=init_selectize(e,a);n&&i&&""!=i&&(selected_selectize(n,i),$(e).trigger("change"))}},guest_group_selection_options=function(e){if(e&&""!=e)return selectize_options({maxItems:1,valueField:"id",labelField:"title",searchField:["title","description"],options:e||[],render:{item:function(e,t){return"<div><p>"+(e.title?t(e.title):"(Tanpa Grup)")+"</p></div>"},option:function(e,t){return'<div class="item"><p style="font-size: 14px;"><strong>'+(e.title?t(e.title):"(Tanpa Grup)")+"</strong></p>"+(e.description?'<p style="font-size: 13px;">'+t(e.description)+"</p>":"")+"</div>"}}})},guest_group_selection=function(e,t=[],i=[],a=()=>{}){var n=guest_group_selection_options(t);if(e&&""!=n){var o=init_selectize(e,n);o&&(i&&selected_selectize(o,i),a(o))}},counter=function(e,t=null,i=10){if(e.length){if(-1==e.length&&e.text&&e.element)return $(e.element).text(e.text);var a=0,n=setInterval(function i(){a>=e.length?clearInterval(n):(a++,t&&t.element&&t.length&&$(t.element).css("width",100*e.length/t.length+"%"),e.element&&$(e.element).text(a))},i)}},textarea_height=function(){$(this).css("height","1px");let e=$(this).prop("scrollHeight"),t=$(this).css("minHeight")||"";t&&e<t&&(e=t),e=0+parseInt(e),$(this).css("height",`${e}px`)},goto=function(e){return window.location.href=e},goto_handler=function(e){e.preventDefault();var t=$(this).attr("data-goto");if(t)return goto(t)},goto_calculator=function(e){e.preventDefault();var t=$(this).attr("href");t||(t="https://katsudoto.id/v2/package");var i={origin:t,prev:t,next:t,current:"",label:"Calculator",updatedAt:new Date};window.localStorage.setItem("formStep:guest",JSON.stringify(i)),window.open(t)},dropdown_toggle=function(e){return e.preventDefault(),e.stopPropagation(),$(this).next(".dropdown-content").addClass("show")},hide_dropdown=function(){var e=$(".dropdown-content");if(e.length&&$(e).hasClass("show"))return $(e).removeClass("show")},init_tab=function(e=""){for(var t=$("[data-tab-content]"),i=0;i<t.length;i++)""!=e&&$(t[i]).closest(e).length&&$(t[i]).hasClass("active")&&$(t[i]).trigger("click"),""==e&&$(t[i]).hasClass("active")&&$(t[i]).trigger("click")},tab_content_toggle=function(e){e.preventDefault();for(var t=$(this).attr("data-tab-wrapper"),i=$(this).attr("data-tab-content"),a=$("[data-tab-content]"),n=0;n<a.length;n++)$(a[n]).attr("data-tab-wrapper")==t&&($(a[n]).removeClass("active"),$($(a[n]).attr("data-tab-content")).hide());$(this).addClass("active"),"none"==$(i).css("display")&&$(i).show()},animateCSS=function(e,t,i="",a="animate__"){return new Promise((n,o)=>{let s=`${a}animated`,r=""!=i?`${a}${i}`:"",l=`${a}${t}`,c=document.querySelector(e);$(e).addClass(s+" "+l+" "+r),c.addEventListener("animationend",function t(i){i.stopPropagation(),$(e).removeClass(s+" "+l+" "+r),n("Animation ended")},{once:!0})})};function getViewport(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}function getMobileOperatingSystem(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}function isValidDate(e){let t=new Date(e);return!isNaN(t)&&"Invalid Date"!==t.toString()}$(document).on("click",".close-modal",closeModal),$(document).on("click",".alert-close",hideAlert),$(document).on("click","#wa-chat-send-button",wa_chat_toggle),$(document).on("click","#close-wa-widget",wa_chat_trigger),$(document).on("mouseenter",'[rel="tooltip"]',generate_tooltip),$(document).on("keyup focus focusout","textarea",textarea_height),$(document).on("click","[data-copy]",copy_text),$(document).on("click","[data-goto]",goto_handler),$(document).on("click",".goto-calculator",goto_calculator),$(document).on("click",".dropdown-btn",dropdown_toggle),$(document).on("click","[data-tab-content]",tab_content_toggle);var accordion_toogle=function(e){e.preventDefault();var t=$(this).closest(".accordion"),i=$(this).closest(".accordion-item");if(t&&t.length&&i&&i.length){var a=!1;$(i).hasClass("show")&&(a=!0);for(var n=$(t).find(".accordion-item"),o=0;o<n.length;o++)$(n[o]).hasClass("show")&&($(n[o]).removeClass("show"),$(n[o]).find(".accordion-panel").removeClass("show").slideUp());a||($(i).addClass("show"),$(i).find(".accordion-panel").addClass("show").slideDown()),a&&($(i).removeClass("show"),$(i).find(".accordion-panel").removeClass("show").slideUp())}};if($(document).on("click",".accordion-label",accordion_toogle),$(document).on("keyup",function(e){"Escape"===e.key&&$("#modal").length&&closeModal()}),"undefined"!=typeof NProgress){NProgress.start();var e=setInterval(function(){NProgress.inc()},1e3);$(window).on("load",function(){clearInterval(e),NProgress.done()}),$(window).on("unload",function(){NProgress.start()}),$(document).ajaxStart(function(){NProgress.start()}),$(document).ajaxStop(function(){NProgress.done()})}function startTheJourney(){$(".top-cover").eq(0).addClass("hide"),$("body").eq(0).css("overflow","visible"),"function"==typeof playMusicOnce&&playMusicOnce(),setTimeout(function(){$(".aos-init").each(function(e,t){if(0==$(t).closest(".top-cover").length){var i=parseInt($(t).attr("data-aos-duration")||0),a=parseInt($(t).attr("data-aos-delay")||0);$(t).hasClass("aos-animate")&&($(t).css({opacity:0,"transition-duration":"0ms"}).removeClass("aos-animate"),setTimeout(function(){$(t).css({opacity:1,"transition-duration":i+"ms"}).addClass("aos-animate")},a))}})},50),setTimeout(function(){$(".top-cover").eq(0).remove()},3e3)}$(document).ready(function(){setTimeout(init_tab,500),window.onclick=function(e){e.target!=$(".dropdown-btn")&&hide_dropdown()},$.fn.pickadate&&$.extend($.fn.pickadate.defaults,{monthsFull:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],weekdaysFull:["Minggu","Senin","Selasa","Rabu","kamis","Jum'at","Sabtu"],weekdaysShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],today:"Hari Ini",clear:"Hapus",close:"Tutup",formatSubmit:"yyyy-mm-dd",format:"dddd, dd mmmm yyyy"}),$.fn.pickatime&&$.extend($.fn.pickatime.defaults,{clear:"",format:"HH:i",formatSubmit:"HH:i",interval:15})});var $alert=$("#alert"),$alertClose=$("#alert .alert-close"),$alertText=$("#alert .alert-text");function hideAlert(){$alert.removeClass(),$alert.addClass("alert hide")}function showAlert(e,t){""!=t&&($alert.removeClass(),$alert.addClass("alert show "+t),$alertText.text(e),setTimeout(hideAlert,3e3))}function copyToClipboard(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).then(()=>{showAlert("Berhasil di salin ke papan klip","success")});var t=document.createElement("textarea");return document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),showAlert("Berhasil di salin ke papan klip","success")}function urlify(e){var t="";return e.replace(/(https?:\/\/[^\s]+)/g,function(e){var i=e;return e.indexOf("<br>")>-1&&(i=e.replace(/<br>/g,""),t="<br>"),'<a href="'+i+'" target="_blank">'+i+"</a>"+t})}$(document).on("click",".copy-account",function(e){e.preventDefault();var t=$(this).closest(".book"),i=$(t).find(".account-number");copyToClipboard(i.html())});var numberFormat=new Intl.NumberFormat("ID",{});function ajaxCall(e,t){e&&$.ajax({type:"post",dataType:"json",data:e,success:function(e){!1===e.error?t(e):showAlert(e.message,"error")}})}function ajaxMultiPart(e,t,i){e&&$.ajax({type:"post",dataType:"json",contentType:!1,processData:!1,data:e,beforeSend:t,success:function(e){!1===e.error?i(e):(showAlert(e.message,"error"),$(".gift-next").prop("disabled",!1),$(".gift-submit").prop("disabled",!1),$(".gift-submit").html("Konfirmasi"))}})}function sliderOptions(e){let t={centerMode:!0,slidesToShow:1,variableWidth:!0,autoplay:!0,autoplaySpeed:3e3,infinite:!0,speed:500,fade:!0,cssEase:"linear",dots:!1,arrows:!1,pauseOnFocus:!1,pauseOnHover:!1,draggable:!1,touchMove:!1};return"object"==typeof e&&(t={...t,...e}),t}$("img").on("dragstart",function(e){e.preventDefault()});var isCoverPlayed=!1;function chooseBank(e){$("[data-book]").each(function(t,i){$(i).hide(),$(i).attr("data-book")==e&&$(i).fadeIn()})}!function e(){var t=$(window).width(),i=window.matchMedia("(max-width: 1024px)");t>"1020"&&t<"1030"&&(isCoverPlayed=!1),void 0!==window.COVERS&&$(window.COVERS).each(function(e,t){var a=t.position,n=t.details,o=t.element,s=$(o).closest(".cover-inner"),r=t.options||"";$(o).length>0&&("MAIN"==a&&s.length&&($(s).removeClass("covers"),(""!=n.desktop||""!=n.mobile)&&$(s).addClass("covers")),$(o).hasClass("slick-initialized")&&$(o).slick("unslick"),$(o).html(""),i.matches?""!=n.mobile&&("MAIN"!=a||isCoverPlayed||(isCoverPlayed=!0),$(o).append(n.mobile),$(o).slick(sliderOptions(r)),s.length&&$(s).removeClass("desktop").addClass("mobile")):""!=n.desktop&&("MAIN"!=a||isCoverPlayed||(isCoverPlayed=!0),$(o).append(n.desktop),$(o).slick(sliderOptions(r)),s.length&&$(s).removeClass("mobile").addClass("desktop")))})}(),function e(){if(void 0!==window.EVENT)var t=window.EVENT,i=new Date(1e3*t).getTime(),a=setInterval(function e(){var t=new Date().getTime(),n=i-t;n<0?(clearInterval(a),$(".count-day").text("0"),$(".count-hour").text("0"),$(".count-minute").text("0"),$(".count-second").text("0")):($(".count-day").text(Math.floor(n/864e5)),$(".count-hour").text(Math.floor(n%864e5/36e5)),$(".count-minute").text(Math.floor(n%36e5/6e4)),$(".count-second").text(Math.floor(n%6e4/1e3)))},1e3)}(),$(document).on("change",'select[name="choose_bank"]',function(e){e.preventDefault(),chooseBank($(this).val())}),$(document).on("click",'div[data-upload="gift-picture"]',function(e){e.preventDefault(),$('#gift-form input[name="picture"]').click()}),$(document).on("change",'#gift-form input[name="picture"]',function(e){if(e.preventDefault(),this.files&&this.files[0]){var t=new FileReader;t.onload=function(e){$('[data-image="uploaded-gift"]').fadeIn(),$('[data-image="uploaded-gift"]').attr("src",e.target.result)},t.readAsDataURL(this.files[0])}}),$(document).on("click",".gift-next",function(e){e.preventDefault();var t=$("#gift-form");if(""==$(t).find('[name="name"]').val()){$(t).find('[name="name"]').focus();return}if(""==$(t).find('[name="account_name"]').val()){$(t).find('[name="account_name"]').focus();return}if(""==$(t).find('[name="message"]').val()){$(t).find('[name="message"]').focus();return}if(0>=$(t).find('[name="inserted_nominal"]').val()){$(".insert-nominal").slideDown(),$(t).find('[name="inserted_nominal"]').focus();return}$(".gift-details").hide(),$(".gift-picture").fadeIn()}),$(document).on("click",".gift-back",function(e){e.preventDefault(),$(".gift-picture").hide(),$(".gift-details").fadeIn()}),$(document).on("submit","#gift-form",function(e){return ajaxMultiPart(new FormData(this),function(){$(".gift-next").prop("disabled",!0),$(".gift-submit").prop("disabled",!0),$(".gift-submit").html('<i class="fas fa-spinner fa-spin"></i>')},function(e){$(this).trigger("reset"),showAlert(e.message,"success"),setTimeout(function(){window.location.reload(!0)},1e3)}),!1});var select_bank=function(e){e.preventDefault();var t=$(this).val();$(".bank-item").removeClass("show"),$("#savingBook"+t).addClass("show")};$(document).on("change","select#selectBank",select_bank);var wgu_file=function(e){e.preventDefault();var t=$(this).attr("data-wgu-file");$(t).trigger("click")};$(document).on("click","[data-wgu-file]",wgu_file);var wgu_handle_picture=function(e){var t=$(this).attr("data-wgu-preview");if(e.target.files.length>0){var i=URL.createObjectURL(e.target.files[0]);$(t).attr("src",i),$(".wgu-description").removeClass("show"),$(".wgu-img-wrap").addClass("show")}};$(document).on("change","input#weddingGiftPicture",wgu_handle_picture);var wedding_gift_next=function(e){e.preventDefault();var t=$("#weddingGiftForm").width(),i=parseFloat($(".wedding-gift__first-slide").css("margin-left"));$(".wedding-gift__first-slide").css("margin-left",i-t+"px")};$(document).on("click",".wedding-gift__next",wedding_gift_next);var weeding_gift_prev=function(e){e.preventDefault();var t=$("#weddingGiftForm").width(),i=parseFloat($(".wedding-gift__first-slide").css("margin-left"))+t;i<0&&(i=0),$(".wedding-gift__first-slide").css("margin-left",i+"px")};$(document).on("click",".wedding-gift__prev",weeding_gift_prev);var playBoxAnimation,pauseBoxAnimation,pauseMusic,playMusic,isMusicAttemptingToPlay=!1,isMusicPlayed=!1;function playMusicOnce(){"function"!=typeof playMusic||isMusicAttemptingToPlay||isMusicPlayed||setTimeout(playMusic,500)}function togglePersonInfo(){var e=$("#person"),t=$(e).find(".person-greeting"),i=$(e).find(".person-info");if($(e).length){var a=function(){$(t).addClass("show")},n=function(){$(i).removeClass("show"),void 0!==hideInfoTimeout&&clearTimeout(hideInfoTimeout)};$(t).hasClass("show")?$(t).removeClass("show"):a(),$(i).hasClass("show")?n():($(i).addClass("show"),hideInfoTimeout=setTimeout(function(){n(),a()},1e4)),!1===$(t).hasClass("show")&&!1===$(i).hasClass("show")&&a(),$(t).hasClass("show")&&$(i).hasClass("show")&&n()}}function startSliderSyncing(){if($(".slider-syncing__preview").length&&$(".slider-syncing__nav").length){var e=$(".slider-syncing__preview"),t=$(".slider-syncing__nav");$(e).hasClass("slick-initialized")&&$(e).slick("unslick"),$(t).hasClass("slick-initialized")&&$(t).slick("unslick"),$(e).slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".slider-syncing__nav"}),$(t).slick({slidesToShow:1,slidesToScroll:1,asNavFor:".slider-syncing__preview",arrows:!1,dots:!1,centerMode:!0,focusOnSelect:!0,speed:750,variableWidth:!0,infinite:!0})}}function gallerySingleSlider(e){if(void 0!==window.GALLERY_SINGLE_SLIDER&&!0===window.GALLERY_SINGLE_SLIDER){var t=$("#singleSliderContainer");if(void 0!==e&&e.hasOwnProperty("container")&&(t=$(e.container)),t.length){var i={slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,centerMode:!0,speed:300,variableWidth:!0,infinite:!1,touchThreshold:5e3,swipeToSlide:!1};"object"==typeof e&&(i={...i,...e}),$(t).hasClass("slick-initialized")&&$(t).slick("unslick");var a=$(t).slick(i);a.on("wheel",function(e){e.preventDefault(),e.originalEvent.deltaY>0?$(this).slick("slickNext"):$(this).slick("slickPrev")});var n=!1;$(t).on("beforeChange",function(e,t,a,o){if(n=!0,0==o){var s="slick-current slick-active"+(i.centerMode?" slick-center":"");!0===i.infinite&&setTimeout(function(){$('[data-slick-index="'+t.$slides.length+'"]').addClass(s).siblings().removeClass(s);for(var e=t.options.slidesToShow-t.options.slidesToShow;e>=0;e--)$('[data-slick-index="'+e+'"]').addClass(s)},10)}}),$(t).on("afterChange",function(e,t,i){n=!1}),a.find(".singleSliderPicture > .anchor").click(function(e){if(n){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();return}}),$(t).find(".singleSliderPicture").each(function(e,t){var i=$(this).width();$(t).css("--width",i+"px"),$(t).css("--height",i+i/3+"px")})}}}function galleryKatModern(){if(void 0!==window.GALLERY_MODERN&&!0===window.GALLERY_MODERN){var e=$("#katGalleryModern");if(e.length){var t=$(e).find(".modern__img-wrap").get(0),i=$(e).find(".modern__list").children(),a=i.length%3;if(i.length&&($(i).each(function(e,t){var n=$(t).width(),o=(n-=5)+n/3;$(t).css("width",n+"px"),$(t).css("height",o+"px"),$(t).css("margin","2.5px"),a>0&&i.length-1==e&&$(t).css("flex-grow","1")}),$(i).on("click",function(e){e.preventDefault();var a=$(this).attr("href");if(!1===$(this).hasClass("selected")&&($(i).each(function(e,t){$(t).removeClass("selected")}),$(this).addClass("selected"),void 0!==t)){var n=$(t).children("img");$(n).removeClass("show"),setTimeout(function(){$(n).attr("src",a),setTimeout(function(){$(n).addClass("show")},375)},350)}}),$(i).eq(0).trigger("click")),void 0!==t){var n=$(t).width(),o=(n-=5)+n/3;$(t).css("width",n+"px"),$(t).css("height",o+"px"),$(t).css("margin","2.5px auto")}}}}!function e(){if(void 0!==window.MUSIC){var t=window.MUSIC.url,i=window.MUSIC.box;if(""!=t){var a,e=document.createElement("audio");e.autoplay=!0,e.muted=!0,e.loop=!0,e.load(),e.src=t,playBoxAnimation=function(){$(i).hasClass("playing")||$(i).addClass("playing"),"running"!=$(i).css("animationPlayState")&&$(i).css("animationPlayState","running")},pauseBoxAnimation=function(){$(i).hasClass("playing")&&"running"==$(i).css("animationPlayState")&&$(i).css("animationPlayState","paused")},pauseMusic=function(){e.pause(),pauseBoxAnimation(),isMusicAttemptingToPlay=!0,isMusicPlayed=!1},playMusic=function(){isMusicAttemptingToPlay=!1,e.muted=!1;var t=e.play();void 0!==t&&t.then(e=>{isMusicPlayed=!0,playBoxAnimation()}).catch(e=>{isMusicPlayed=!1,pauseBoxAnimation()})},$(document).on("click",i,function(e){e.preventDefault(),isMusicPlayed?pauseMusic():playMusic()}),$(document).on("click",".play-btn, .play-youtube-video",function(e){if(e.preventDefault(),isMusicPlayed)return pauseMusic()});var n=window.pageYOffset,o=!1,s=function(){$(i).removeClass("hide"),o=!1,clearTimeout(a)},r=function(){$(i).addClass("hide"),o=!0,clearTimeout(a),a=setTimeout(s,5e3)};$(window).on("scroll",function(){var e=window.pageYOffset;n>e?o&&s():o||r(),n=e})}}}(),$(window).on("load click scroll",function(e){playMusicOnce()}),$(document).on("click scroll",function(e){playMusicOnce()}),$(document).ready(function(){setTimeout(()=>{$("body").trigger("click")},1e3)}),function e(){if(void 0!==window.BOOKS){var t=window.BOOKS,i="",a=[];if(""!=t){for(var n=0;n<t.length;n++)i={id:t[n].id,title:t[n].title,credential:t[n].credential},a.push(i);if($('select[name="choose_bank"]').length>0){var o=$('select[name="choose_bank"]').selectize({maxItems:1,valueField:"id",labelField:"title",searchField:"title",options:a,create:!1,render:{item:function(e,t){return"<div>"+(e.title?"<p>"+t(e.title)+"</p>":"")+"</div>"},option:function(e,t){var i=e.title,a=e.credential;return'<div class="item"><p style="font-size: 14px;"><strong>'+t(i)+'</strong></p><p style="font-size: 12px;"><strong>'+t(a)+"</strong></p></div>"}},onInitialize:function(){var e=this;e.$control_input.attr("readonly","readonly"),$(e.$control).off("click").on("click",function(t){if(t.stopPropagation(),e.isFocused)return!1})}}),s=$(o)[0].selectize;a.length>0&&s.setValue(a[0].id,1),$(".selectize-input input").attr("readonly","readonly")}}}}(),function e(){if(void 0!==window.PROTOCOL){var t=window.PROTOCOL.slider,i=window.PROTOCOL.dots,a={centerMode:!0,centerPadding:"60px",slidesToShow:3,variableWidth:!0,slidesToScroll:1,swipeToSlide:!0,autoplay:!0,autoplaySpeed:3e3,infinite:!0,speed:700,cssEase:"ease-in-out",dots:!1,arrows:!1,asNavFor:i,pauseOnFocus:!1,pauseOnHover:!1,draggable:!0,responsive:[{breakpoint:600,settings:{slidesToShow:1}}]};$(t).hasClass("slick-initialized")&&$(t).slick("unslick"),$(i).hasClass("slick-initialized")&&$(i).slick("unslick"),$(t).slick(a),$(i).slick({centerMode:!0,variableWidth:!0,slidesToScroll:1,swipeToSlide:!0,autoplay:!0,autoplaySpeed:3e3,infinite:!0,speed:700,cssEase:"ease-in-out",dots:!1,arrows:!1,asNavFor:t,pauseOnFocus:!1,pauseOnHover:!1,draggable:!0}),$(t).on("beforeChange",function(e,t,i,n){if(0==n){var o="slick-current slick-active"+(a.centerMode?" slick-center":"");setTimeout(function(){$('[data-slick-index="'+t.$slides.length+'"]').addClass(o).siblings().removeClass(o);for(var e=t.options.slidesToShow-t.options.slidesToShow;e>=0;e--)$('[data-slick-index="'+e+'"]').addClass(o)},10)}})}}(),$(function(){setTimeout(togglePersonInfo,1e3)});var modal_video_options={youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disableks:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,listType:null,loop:0,modestbranding:null,mute:0,origin:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark",nocookie:!1}};$(".play-btn").modalVideo(modal_video_options),$(".play-youtube-video").modalVideo(modal_video_options);var AOSOptions={disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:0,throttleDelay:0,offset:10,delay:0,duration:400,easing:"ease",once:!0,mirror:!1,anchorPlacement:"top-bottom"};function showGalleries(){$(".lightgallery").each(function(e,t){lightGallery(t,{download:!1})})}function customizationTemplate(e){var t="";e.selectedFonts&&Object.entries(e.selectedFonts).forEach(([e,i])=>{var a=e.split(/(?=[A-Z])/).join("-").toLowerCase();$("body").css({[`--${a}-family`]:"",[`--${a}-style`]:"",[`--${a}-weight`]:"",[`--${a}-size`]:"",[`--${a}-lettercase`]:""}),i.family&&i.category&&($("body")[0].style.setProperty(`--${a}-family`,`"${i.family}", ${i.category}`,"important"),t="custom-fonts"),i.style&&$("body")[0].style.setProperty(`--${a}-style`,`${i.style}`,"important"),i.weight&&$("body")[0].style.setProperty(`--${a}-weight`,`${i.weight}`,"important"),i.size&&$("body")[0].style.setProperty(`--${a}-size`,`${i.size}px`,"important"),i.lettercase&&$("body")[0].style.setProperty(`--${a}-lettercase`,`${i.lettercase}`,"important"),i.url&&($("link.font-css").each(function(e,t){$(t).attr("href")==i.url&&$(t).addClass("stay")}),0==$(`link.font-css[href="${i.url}"]`).length&&$("head").append(`<link class="font-css stay" rel="stylesheet" href="${i.url}">`))}),$("link.font-css:not(.stay)").remove(),$("link.font-css").removeClass("stay"),e.selectedColors&&Object.entries(e.selectedColors).forEach(([e,t])=>{var i=e.split(/(?=[A-Z])/).slice(1).join("-").toLowerCase();$("body").css({[`--${i}`]:""}),t&&$("body")[0].style.setProperty(`--${i}`,`${t}`,"important")}),void 0!==$("body").attr("class")&&$("body").attr("class").split(" ").filter(e=>-1!==e.indexOf("preset-")).map(e=>$("body").removeClass(`${e.replace("preset-","")} ${e}`)),$("body").removeClass("custom-fonts").addClass(`${t}`),e.presetCode&&$("body").addClass(`${e.presetCode} preset-${e.presetCode}`)}function extractMainDomain(e){var t=document.createElement("a");return t.href=e,t.hostname.split(".").slice(-2).join(".")}$(window).on("load",function(){AOS.refresh()}),$(function(){AOS.init(AOSOptions)}),$(window).on("scroll",function(){AOS.init(AOSOptions)}),$(function(){lightGallery(document.getElementById("lightGallery"),{download:!1}),showGalleries()}),$(window.visualViewport).on("resize",function(){$("body").css({"--body-height":`${window.visualViewport.height}px`})}),$(window).on("beforeunload",function(){if(isMusicPlayed&&"function"==typeof pauseMusic)return pauseMusic()}),window.addEventListener("message",function(e){if(extractMainDomain(e.origin)===extractMainDomain(this.window.location.origin)){var t=e.data.action;if("customizeTemplate"===t&&e.data.customizeTemplate&&customizationTemplate(e.data.customizeTemplate),"loadContent"===t&&void 0!==e.data.content){var i=e.target.document,a=e.data.content;i.open(),i.write(a),i.close()}}}),$(document).ready(function(){$("body").css({"--body-height":`${window.visualViewport.height}px`}),$("p, label").each(function(e,t){t.innerHTML=urlify(t.innerHTML)}),$('[data-quantity="control"]').each(function(e,t){var i=$(t).attr("max"),a=$(t).val();a>=i&&$(t).val(i),a<=0&&$(t).val(1)}),$('[name="nominal"]').each(function(e,t){$(t).is(":checked")&&0>=$(this).val()&&($(".insert-nominal").slideDown(),$(".insert-nominal").find('[name="inserted_nominal"]').focus())});var e=$('select[name="choose_bank"]');e.length&&chooseBank($(e).val()),$.each($('input[name="attendance"]'),function(e,t){attendanceToggle(t)})}),$(document).ready(function(){$(window).scrollTop(0)});var init_love_story=function(){if($(".story__slider-wrap").length){var e={slidesToShow:1,slidesToScroll:1,fade:!0,arrows:!0,adaptiveHeight:!0,infinite:!1,useTransform:!0,speed:300,cssEase:"cubic-bezier(0.77, 0, 0.18, 1)",prevArrow:$(".story__arrow-btn.prev"),nextArrow:$(".story__arrow-btn.next")},t=$(".story__slider-for");$(t).on("init",function(e,t){$(".story__slider-nav__item__manual").eq(0).addClass("is-active");var i=$(this).find(".story__slider-for__item").width();$(".story__slider-for__item").css("height",i+i/3+"px")}).slick(e),$(t).on("afterChange",function(e,t,i){for(var a=$(".story__slider-nav__item__manual"),n=0;n<a.length;n++){var o=$(a[n]).attr("data-slick-index");o<=i&&$(a[n]).addClass("is-active"),o>i&&$(a[n]).removeClass("is-active")}})}};$(document).ready(function(){init_love_story()});
